<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html ng-controller="projectEditModalController">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <!-- Project Modal -->
        <form role="form">
            <div class="modal-header">
                <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Edit Project</h4>
            </div>
            <div class="modal-body">
                <!-- add Project Managers -->
                <div>
                    <div class="form-group">
                        <label for="name">Name:</label> {{this.currentProjectName}}
                    </div>
                    <div class="form-group">

                        <label>Project Managers:</label>
                        <table id="listingTable">
                            <tbody>
                                <tr ng-repeat="pm in this.projPms">
                                    <td class="tableRowWithGlyph">{{pm.email}}</td>
                                    <td><a>
                                            <span class="glyphicon glyphicon-remove" style="color: red;"
                                                  ng-click="deletePM(pm.id)"></span>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label>Add Project Manager:</label>
                        <select ng-model="newPM"
                                ng-options="pm.id as pm.email for pm in (getUserComplement(this.pms, this.projPms) | orderBy: '-email')">
                        </select>
                        <button class="btn btn-primary" ng-click="addSelectedPM()">
                            Add
                        </button>
                    </div>
                </div>
                <!-- add users -->
                <div>
                    <div class="form-group">

                        <label>Users:</label>
                        <table id="listingTable">
                            <tbody>
                                <tr ng-repeat="user in this.projUsers">
                                    <td class="tableRowWithGlyph">{{user.email}}</td>
                                    <td><a>
                                            <span class="glyphicon glyphicon-remove" style="color: red;"
                                                  ng-click="deleteUser(user.id)"></span>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label>Add User:</label>
                        <select ng-model="newUser"
                                ng-options="user.id as user.email for user in (getUserComplement(this.users, this.projUsers) | orderBy: '-email')">
                        </select>
                        <button class="btn btn-primary" ng-click="addSelectedUser()">
                            Add
                        </button>
                    </div>
                </div>
            </div>
        </form>

    </body>
</html>
